!define REMOTE_DEBUG_COMMAND {java -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=1044 -cp %p %m}

!*> Define test variables
!define file_size_in_bytes {17000000}
*!

!3 TS41-K-004 – Överför stort meddelande

!4 Överför till Axel-dev

|Shs Async Send Message                                                                           |
|from address|to address|product id                          |generate input file with size|tx id?|
|0000000000  |0000000000|00000000-0000-0000-0000-000000000000|${file_size_in_bytes}        |$txId=|

|Check that message is available in|${localDeliveryServiceUrl}                        |
|tx id                             |to address|correlation id|fetch list?|item exists?|
|$txId                             |0000000000|$txId         |FOUND      |true        |

|Shs Async Fetch Message                                                 |
|To Address|Tx Id|Generate input file with size|received file is correct?|
|0000000000|$txId|${file_size_in_bytes}        |true                     |

|TODO: Cleanup big file in Mongo, local file system, remote file system etc.|


!4 Överför till Axel-ref

|Shs Async Send Message                                                                           |
|from address|to address|product id                          |generate input file with size|tx id?|
|0000000000  |1111111111|00000000-0000-0000-0000-000000000000|${file_size_in_bytes}        |$txId=|

|Check that message is available in|${remoteDeliveryServiceUrl}                       |
|tx id                             |to address|correlation id|fetch list?|item exists?|
|$txId                             |1111111111|$txId         |FOUND      |true        |

|Shs Async Fetch Message                                                |
|To Address|Tx Id|Generate input file with size|received file is correct?|
|1111111111|$txId|${file_size_in_bytes}        |true                     |

|TODO: Cleanup big file in Mongo, local file system, remote file system etc.|
